/*
  Chartlets v0.9.4: http://chartlets.com
  MIT License
  (c) 2013 Adam Mark
*/
(function(L){var T,t,a,c,l,m,v,A,K,d,s,M;T=null;t=null;a=0;c=0;l=false;m=[0,0];v=[];A={};d={blues:["#7eb5d6","#2a75a9","#214b6b","#dfc184","#8f6048"],money:["#009b6d","#89d168","#d3eb87","#666666","#aaaaaa"],circus:["#9351a4","#ff99cc","#e31a1c","#66cdaa","#ffcc33"],party:["#ffcc00","#ff66cc","#3375cd","#e43b3b","#96cb3f"],garden:["#3c7bb0","#ffa07a","#2e8b57","#7eb5d6","#89d168"],crayon:["#468ff0","#ff8000","#00c000","#ffd700","#ff4500"],ocean:["#3375cd","#62ccb2","#4aa5d5","#a6cee3","#ffcc33"],spring:["#ed729d","#72caed","#9e9ac8","#a6d854","#f4a582"],beach:["#f92830","#2fb4b1","#ffa839","#3375cd","#5fd1d5"],fire:["#dc143c","#ff8c00","#ffcc33","#b22222","#cd8540"]};M=L.requestAnimationFrame||L.webkitRequestAnimationFrame||L.mozRequestAnimationFrame||L.msRequestAnimationFrame||function(U){L.setTimeout(U,1000/60)};function z(V,U){var W=V.getAttribute(U);return W?W.replace(/, +/g,",").split(/ +/g):null}function G(W){var X,Y,V,U;X=z(W,"data-opts");V={};for(U in X){if(X.hasOwnProperty(U)){Y=X[U].split(":");V[Y[0]]=Y[1]}}return V}function R(W){var V=W.match(/\[[^\[]+\]/g)||[],U;for(U=0;U<V.length;U++){V[U]=V[U].match(/[-\d\.,]+/g)}return V}function y(){return A.transform==="stack"}function F(){return A.fill!==undefined}function h(V,U){return U?r(V):H(V)}function H(V){var U=Array.prototype.concat.apply([],V);if(T==="bar"||y()){U.push(0)}return[Math.min.apply(null,U),Math.max.apply(null,U)]}function r(U){return H(u(U).concat(U))}function n(V){var U={r:0,g:0,b:0,a:1};if(V.match(/#/)){U=p(V)}else{if(V.match(/rgb/)){U=w(V)}else{if(V.match(/hsl/)){U=D(V)}}}return U}function w(U){var V=U.match(/[\d\.]+/g);return{r:+V[0],g:+V[1],b:+V[2],a:+V[3]||1}}function p(U){var W=U.match(/\w/g),V;if(W.length===3){W=[W[0],W[0],W[1],W[1],W[2],W[2]]}V=+("0x"+W.join(""));return{r:(V&16711680)>>16,g:(V&65280)>>8,b:(V&255),a:1}}function D(ac){var ab,Z,af,Y,U,aa,ad,V,W,ae;ab=ac.match(/[\d\.]+/g);Z=+ab[0]/360;af=+ab[1]/100;Y=+ab[2]/100;ae=(+ab[3]||1)/1;function X(ai,ah,ag){if(ag<0){ag+=1}if(ag>1){ag-=1}if(ag<1/6){return ai+(ah-ai)*6*ag}if(ag<1/2){return ah}if(ag<2/3){return ai+(ah-ai)*(2/3-ag)*6}return ai}if(af===0){U=aa=ad=Y}else{V=Y<0.5?Y*(1+af):Y+af-Y*af;W=2*Y-V;U=X(W,V,Z+1/3);aa=X(W,V,Z);ad=X(W,V,Z-1/3)}return{r:U*255,g:aa*255,b:ad*255,a:ae}}function x(U,V){U.a*=V;return U}function f(U){return"rgba("+[Math.round(U.r),Math.round(U.g),Math.round(U.b),U.a].join(",")+")"}function P(){l=true;t.translate(a,0);t.rotate(Math.PI/2)}function C(U){return(l?c:a)/(U-1)}function i(V,U){return V*C(U)}function I(U){var V=l?a:c;return V-(V*((U-m[0])/(m[1]-m[0])))}function q(W){var U,V=0;for(U=0;U<W.length;U++){V+=+W[U]}return V}function j(W,U){var V,X=0;for(V=0;V<W.length;V++){X+=+W[V][U]}return X}function u(V){var U,W=[];for(U=0;U<V[0].length;U++){W.push(j(V,U))}return W}function N(U){return K[U]||"#000"}function k(ab,Y,X,ac,V){var W=0,aa,Z,U;U=C(ab.length);t.lineWidth=Math.min(3,X);t.lineJoin="round";t.beginPath();t.strokeStyle=Y;t.moveTo(0,I(ab[0]));while(++W<ab.length){aa=i(W,ab.length);Z=I(ab[W]);if(y()){A.shape="straight"}o(ab,W,aa,Z,U,A.shape)}if(ac){t.fillStyle=ac;if(V){while(--W>=0){aa=i(W,V.length);Z=I(V[W]);o(V,W,aa,Z,U,A.shape)}}else{t.lineTo(aa,I(0));t.lineTo(0,I(0))}t.fill()}else{t.stroke()}}function o(ab,X,V,aa,Y,W){var U,Z;if(W==="smooth"){U=i(X-0.5,ab.length);Z=I(ab[X-1]);t.bezierCurveTo(U,Z,U,aa,V,aa)}else{if(W==="step"){t.lineTo(V-(Y/2),I(ab[X-1]));t.lineTo(V-(Y/2),aa)}t.lineTo(V,aa)}}function g(ab,Z,X,V){var Y=-1,U,aa,W;while(++Y<ab.length){U=i(Y,ab.length);aa=I(ab[Y]);if(Z==="square"){W=Math.max(2,V)*2.5;b(U-(W/2),aa+(W/2),W,W,X)}else{W=V+1;e(X,null,U,aa,W)}}}function e(V,Y,U,X,W){t.fillStyle=V;t.strokeStyle=Y;t.beginPath();t.arc(U,X,W,2*Math.PI,false);t.fill();if(Y){t.stroke()}}function b(U,Y,V,X,W){t.fillStyle=W;t.fillRect(U,Y-X,V,X)}function O(){var U,V;if(!isNaN(+A.axis)){U=0;V=Math.round(I(A.axis));t.lineWidth=1;t.lineJoin="round";t.strokeStyle="#bbb";t.moveTo(U,V);while(U<a){t.lineTo(U+5,V);t.moveTo(U+8,V);U+=8}t.stroke()}}function S(U){T=z(U,"data-type")[0];A=G(U);t=U.getContext("2d");a=U.width;c=U.height;K=d[A.theme]||z(U,"data-colors")||d.basic;v=R(U.getAttribute("data-sets"));m=z(U,"data-range")||h(v,y());l=false;U.width=U.width;b(0,0,a,-c,A.bgcolor||"white");try{s[T].call()}catch(V){console.error(V.message)}}function Q(X,W,V,U){return +X+((+W-+X)*(V/U))}function E(V,U,Z){var X,W,Y=[V];for(X=0;X<V.length;X++){for(W=1;W<Z;W++){if(!Y[W]){Y[W]=[]}Y[W][X]=Q(V[X],U[X],W,Z)}}return Y.concat([U])}function J(V,U,Y){var W,X=[];for(W=0;W<V.length;W++){X.push(E(V[W],U[W],Y))}return X}function B(ab,X,aa){var W=1,V=0,Z=8,U=J(X,aa,Z);if(!X.length){return Chartlets.update(ab,aa)}function Y(){var ac=[];for(V=0;V<U.length;V++){ac.push(U[V][W])}Chartlets.update(ab,ac);if(++W<=Z){M(Y)}}M(Y)}s={line:function(){var V,Z,Y,U,X,W;O();for(V=0;V<v.length;V++){Z=v[V];Y=N(V);if(y()){Z=u(v.slice(0,V+1));W=V>0?u(v.slice(0,V)):null}k(Z,Y,A.stroke||1.5,null);if(y()||F()){X=A.alpha||(y()?1:0.5);U=f(x(n(Y),X));k(Z,Y,0,U,W)}if(A.cap){g(Z,A.cap,Y,t.lineWidth)}}},bar:function(){var W,V,U,aa,ab,Z,ac,X,Y;if(A.orient==="horiz"){P()}O();t.lineWidth=A.stroke||1;t.lineJoin="miter";Y=v[0].length;for(W=0;W<v.length;W++){for(V=0;V<Y;V++){U=1;aa=l?c:a;ac=((aa/Y)/v.length)-((U/v.length)*W)-1;ab=(U/2)+i(V,Y+1)+(ac*W)+1;Z=I(v[W][V]);X=Z-I(0)||1;if(y()){ac=(aa/Y)-2;ab=i(V,Y+1);Z=I(j(v.slice(0,W+1),V))}b(ab,Z,ac,X,N(W))}}},pie:function(){var X,V,ab,Z,W,U,aa,Y;X=0;V=a/2;ab=c/2;Z=Math.min(V,ab)-2;W=1.5*Math.PI;U=0;aa=v[0];Y=q(aa);t.lineWidth=1.5;for(X=0;X<aa.length;X++){t.fillStyle=N(X);t.beginPath();U=W+(aa[X]/Y)*(2*Math.PI);t.arc(V,ab,Z,W,U,false);t.lineTo(V,ab);t.fill();W=U}}};L.Chartlets={render:function(U){var V;if(!U){U=[].slice.call(document.getElementsByClassName("chartlet"))}for(V=0;V<U.length;V++){S(U[V])}},setTheme:function(V,U){d[V]=U},getTheme:function(U){return d[U]},update:function(Z,W,V){var X,U=[],Y=document.getElementById(Z);if(V&&V.transition){new B(Z,R(Y.getAttribute("data-sets")),W);return}for(X=0;X<W.length;X++){U.push(W[X].join(" "))}Y.setAttribute("data-sets","["+U.join("] [")+"]");Chartlets.render([Y])}}}(window));