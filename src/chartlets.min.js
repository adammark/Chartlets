/*
  Chartlets v0.9.1: http://chartlets.com
  MIT License
  (c) 2013 Adam Mark
*/
(function(i){var O,u,a,c,l,n,w,B,I,d,t;O=null;u=null;a=0;c=0;l=false;n=[0,0];w=[];B={};d={blues:["#7eb5d6","#2a75a9","#214b6b","#dfc184","#8f6048"],money:["#009b6d","#89d168","#d3eb87","#666666","#aaaaaa"],circus:["#9351a4","#ff99cc","#e31a1c","#66cdaa","#ffcc33"],party:["#ffcc00","#ff66cc","#3375cd","#e43b3b","#96cb3f"],garden:["#3c7bb0","#ffa07a","#2e8b57","#7eb5d6","#89d168"],crayon:["#468ff0","#ff8000","#00c000","#ffd700","#ff4500"],ocean:["#3375cd","#62ccb2","#4aa5d5","#a6cee3","#ffcc33"],spring:["#ed729d","#72caed","#9e9ac8","#a6d854","#f4a582"],beach:["#f92830","#2fb4b1","#ffa839","#3375cd","#5fd1d5"],fire:["#dc143c","#ff8c00","#ffcc33","#b22222","#cd8540"]};function A(Q,P){var R=Q.getAttribute(P);return R?R.replace(/, +/g,",").split(/ +/g):null}function F(R){var S,T,Q,P;S=A(R,"data-opts");Q={};for(P in S){if(S.hasOwnProperty(P)){T=S[P].split(":");Q[T[0]]=T[1]}}return Q}function M(R){var Q=R.match(/\[[^\[]+\]/g)||[],P;for(P=0;P<Q.length;P++){Q[P]=Q[P].match(/[-\d\.,]+/g)}return Q}function z(){return B.transform==="stack"}function E(){return B.fill!==undefined}function h(Q,P){return P?s(Q):G(Q)}function G(Q){var P=Array.prototype.concat.apply([],Q);if(O==="bar"||z()){P.push(0)}return[Math.min.apply(null,P),Math.max.apply(null,P)]}function s(P){return G(v(P).concat(P))}function o(Q){var P={r:0,g:0,b:0,a:1};if(Q.match(/#/)){P=q(Q)}else{if(Q.match(/rgb/)){P=x(Q)}else{if(Q.match(/hsl/)){P=D(Q)}}}return P}function x(P){var Q=P.match(/[\d\.]+/g);return{r:+Q[0],g:+Q[1],b:+Q[2],a:+Q[3]||1}}function q(P){var R=P.match(/\w/g),Q;if(R.length===3){R=[R[0],R[0],R[1],R[1],R[2],R[2]]}Q=+("0x"+R.join(""));return{r:(Q&16711680)>>16,g:(Q&65280)>>8,b:(Q&255),a:1}}function D(X){var W,U,aa,T,P,V,Y,Q,R,Z;W=X.match(/[\d\.]+/g);U=+W[0]/360;aa=+W[1]/100;T=+W[2]/100;Z=(+W[3]||1)/1;function S(ad,ac,ab){if(ab<0){ab+=1}if(ab>1){ab-=1}if(ab<1/6){return ad+(ac-ad)*6*ab}if(ab<1/2){return ac}if(ab<2/3){return ad+(ac-ad)*(2/3-ab)*6}return ad}if(aa===0){P=V=Y=T}else{Q=T<0.5?T*(1+aa):T+aa-T*aa;R=2*T-Q;P=S(R,Q,U+1/3);V=S(R,Q,U);Y=S(R,Q,U-1/3)}return{r:P*255,g:V*255,b:Y*255,a:Z}}function y(P,Q){P.a*=Q;return P}function f(P){return"rgba("+[Math.round(P.r),Math.round(P.g),Math.round(P.b),P.a].join(",")+")"}function L(){l=true;u.translate(a,0);u.rotate(Math.PI/2)}function C(P){return(l?c:a)/(P-1)}function j(Q,P){return Q*C(P)}function H(P){var Q=l?a:c;return Q-(Q*((P-n[0])/(n[1]-n[0])))}function r(R){var P,Q=0;for(P=0;P<R.length;P++){Q+=+R[P]}return Q}function k(R,P){var Q,S=0;for(Q=0;Q<R.length;Q++){S+=+R[Q][P]}return S}function v(Q){var P,R=[];for(P=0;P<Q[0].length;P++){R.push(k(Q,P))}return R}function J(P){return I[P]||"#000"}function m(W,T,S,X,Q){var R=0,V,U,P;P=C(W.length);u.lineWidth=Math.min(3,S);u.lineJoin="round";u.beginPath();u.strokeStyle=T;u.moveTo(0,H(W[0]));while(++R<W.length){V=j(R,W.length);U=H(W[R]);if(z()){B.shape="straight"}p(W,R,V,U,P,B.shape)}if(X){u.fillStyle=X;if(Q){while(--R>=0){V=j(R,Q.length);U=H(Q[R]);p(Q,R,V,U,P,B.shape)}}else{u.lineTo(V,H(0));u.lineTo(0,H(0))}u.fill()}else{u.stroke()}}function p(W,S,Q,V,T,R){var P,U;if(R==="smooth"){P=j(S-0.5,W.length);U=H(W[S-1]);u.bezierCurveTo(P,U,P,V,Q,V)}else{if(R==="step"){u.lineTo(Q-(T/2),H(W[S-1]));u.lineTo(Q-(T/2),V)}u.lineTo(Q,V)}}function g(W,U,S,Q){var T=-1,P,V,R;while(++T<W.length){P=j(T,W.length);V=H(W[T]);if(U==="square"){R=Math.max(2,Q)*2.5;b(P-(R/2),V+(R/2),R,R,S)}else{R=Q+1;e(S,null,P,V,R)}}}function e(Q,T,P,S,R){u.fillStyle=Q;u.strokeStyle=T;u.beginPath();u.arc(P,S,R,2*Math.PI,false);u.fill();if(T){u.stroke()}}function b(P,T,Q,S,R){u.fillStyle=R;u.fillRect(P,T-S,Q,S)}function K(){var P,Q;if(!isNaN(+B.axis)){P=0;Q=Math.round(H(B.axis));u.lineWidth=1;u.lineJoin="round";u.strokeStyle="#bbb";u.moveTo(P,Q);while(P<a){u.lineTo(P+5,Q);u.moveTo(P+8,Q);P+=8}u.stroke()}}function N(P){O=A(P,"data-type")[0];B=F(P);u=P.getContext("2d");a=P.width;c=P.height;I=d[B.theme]||A(P,"data-colors")||d.basic;w=M(P.getAttribute("data-sets"));n=A(P,"data-range")||h(w,z());l=false;P.width=P.width;b(0,0,a,-c,B.bgcolor||"white");try{t[O].call()}catch(Q){console.error(Q.message)}}t={line:function(){var Q,U,T,P,S,R;K();for(Q=0;Q<w.length;Q++){U=w[Q];T=J(Q);if(z()){U=v(w.slice(0,Q+1));R=Q>0?v(w.slice(0,Q)):null}m(U,T,B.stroke||1.5,null);if(z()||E()){S=B.alpha||(z()?1:0.5);P=f(y(o(T),S));m(U,T,0,P,R)}if(B.cap){g(U,B.cap,T,u.lineWidth)}}},bar:function(){var R,Q,P,V,W,U,X,S,T;if(B.orient==="horiz"){L()}K();u.lineWidth=B.stroke||1;u.lineJoin="miter";T=w[0].length;for(R=0;R<w.length;R++){for(Q=0;Q<T;Q++){P=1;V=l?c:a;X=((V/T)/w.length)-((P/w.length)*R)-1;W=(P/2)+j(Q,T+1)+(X*R)+1;U=H(w[R][Q]);S=U-H(0)||1;if(z()){X=(V/T)-2;W=j(Q,T+1);U=H(k(w.slice(0,R+1),Q))}b(W,U,X,S,J(R))}}},pie:function(){var S,Q,W,U,R,P,V,T;S=0;Q=a/2;W=c/2;U=Math.min(Q,W)-2;R=1.5*Math.PI;P=0;V=w[0];T=r(V);u.lineWidth=1.5;for(S=0;S<V.length;S++){u.fillStyle=J(S);u.beginPath();P=R+(V[S]/T)*(2*Math.PI);u.arc(Q,W,U,R,P,false);u.lineTo(Q,W);u.fill();R=P}}};window.Chartlets={render:function(P){var Q;if(!P){P=[].slice.call(i.getElementsByClassName("chartlet"))}for(Q=0;Q<P.length;Q++){N(P[Q])}},setTheme:function(Q,P){d[Q]=P},getTheme:function(P){return d[P]},update:function(T,Q){var R,S,P=[];for(R=0;R<Q.length;R++){P.push(Q[R].join(" "))}S=document.getElementById(T);S.setAttribute("data-sets","["+P.join("] [")+"]");this.render([S])}}}(document));