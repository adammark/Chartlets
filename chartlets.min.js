/*
  Chartlets v0.9.2: http://chartlets.com
  MIT License
  (c) 2013 Adam Mark
*/
(function(i){var S,u,a,c,l,n,w,B,L,d,t;S=null;u=null;a=0;c=0;l=false;n=[0,0];w=[];B={};d={blues:["#7eb5d6","#2a75a9","#214b6b","#dfc184","#8f6048"],money:["#009b6d","#89d168","#d3eb87","#666666","#aaaaaa"],circus:["#9351a4","#ff99cc","#e31a1c","#66cdaa","#ffcc33"],party:["#ffcc00","#ff66cc","#3375cd","#e43b3b","#96cb3f"],garden:["#3c7bb0","#ffa07a","#2e8b57","#7eb5d6","#89d168"],crayon:["#468ff0","#ff8000","#00c000","#ffd700","#ff4500"],ocean:["#3375cd","#62ccb2","#4aa5d5","#a6cee3","#ffcc33"],spring:["#ed729d","#72caed","#9e9ac8","#a6d854","#f4a582"],beach:["#f92830","#2fb4b1","#ffa839","#3375cd","#5fd1d5"],fire:["#dc143c","#ff8c00","#ffcc33","#b22222","#cd8540"]};function A(U,T){var V=U.getAttribute(T);return V?V.replace(/, +/g,",").split(/ +/g):null}function H(V){var W,X,U,T;W=A(V,"data-opts");U={};for(T in W){if(W.hasOwnProperty(T)){X=W[T].split(":");U[X[0]]=X[1]}}return U}function Q(V){var U=V.match(/\[[^\[]+\]/g)||[],T;for(T=0;T<U.length;T++){U[T]=U[T].match(/[-\d\.,]+/g)}return U}function z(){return B.transform==="stack"}function G(){return B.fill!==undefined}function h(U,T){return T?s(U):I(U)}function I(U){var T=Array.prototype.concat.apply([],U);if(S==="bar"||z()){T.push(0)}return[Math.min.apply(null,T),Math.max.apply(null,T)]}function s(T){return I(v(T).concat(T))}function o(U){var T={r:0,g:0,b:0,a:1};if(U.match(/#/)){T=q(U)}else{if(U.match(/rgb/)){T=x(U)}else{if(U.match(/hsl/)){T=E(U)}}}return T}function x(T){var U=T.match(/[\d\.]+/g);return{r:+U[0],g:+U[1],b:+U[2],a:+U[3]||1}}function q(T){var V=T.match(/\w/g),U;if(V.length===3){V=[V[0],V[0],V[1],V[1],V[2],V[2]]}U=+("0x"+V.join(""));return{r:(U&16711680)>>16,g:(U&65280)>>8,b:(U&255),a:1}}function E(ab){var aa,Y,ae,X,T,Z,ac,U,V,ad;aa=ab.match(/[\d\.]+/g);Y=+aa[0]/360;ae=+aa[1]/100;X=+aa[2]/100;ad=(+aa[3]||1)/1;function W(ah,ag,af){if(af<0){af+=1}if(af>1){af-=1}if(af<1/6){return ah+(ag-ah)*6*af}if(af<1/2){return ag}if(af<2/3){return ah+(ag-ah)*(2/3-af)*6}return ah}if(ae===0){T=Z=ac=X}else{U=X<0.5?X*(1+ae):X+ae-X*ae;V=2*X-U;T=W(V,U,Y+1/3);Z=W(V,U,Y);ac=W(V,U,Y-1/3)}return{r:T*255,g:Z*255,b:ac*255,a:ad}}function y(T,U){T.a*=U;return T}function f(T){return"rgba("+[Math.round(T.r),Math.round(T.g),Math.round(T.b),T.a].join(",")+")"}function O(){l=true;u.translate(a,0);u.rotate(Math.PI/2)}function D(T){return(l?c:a)/(T-1)}function j(U,T){return U*D(T)}function J(T){var U=l?a:c;return U-(U*((T-n[0])/(n[1]-n[0])))}function r(V){var T,U=0;for(T=0;T<V.length;T++){U+=+V[T]}return U}function k(V,T){var U,W=0;for(U=0;U<V.length;U++){W+=+V[U][T]}return W}function v(U){var T,V=[];for(T=0;T<U[0].length;T++){V.push(k(U,T))}return V}function M(T){return L[T]||"#000"}function m(aa,X,W,ab,U){var V=0,Z,Y,T;T=D(aa.length);u.lineWidth=Math.min(3,W);u.lineJoin="round";u.beginPath();u.strokeStyle=X;u.moveTo(0,J(aa[0]));while(++V<aa.length){Z=j(V,aa.length);Y=J(aa[V]);if(z()){B.shape="straight"}p(aa,V,Z,Y,T,B.shape)}if(ab){u.fillStyle=ab;if(U){while(--V>=0){Z=j(V,U.length);Y=J(U[V]);p(U,V,Z,Y,T,B.shape)}}else{u.lineTo(Z,J(0));u.lineTo(0,J(0))}u.fill()}else{u.stroke()}}function p(aa,W,U,Z,X,V){var T,Y;if(V==="smooth"){T=j(W-0.5,aa.length);Y=J(aa[W-1]);u.bezierCurveTo(T,Y,T,Z,U,Z)}else{if(V==="step"){u.lineTo(U-(X/2),J(aa[W-1]));u.lineTo(U-(X/2),Z)}u.lineTo(U,Z)}}function g(aa,Y,W,U){var X=-1,T,Z,V;while(++X<aa.length){T=j(X,aa.length);Z=J(aa[X]);if(Y==="square"){V=Math.max(2,U)*2.5;b(T-(V/2),Z+(V/2),V,V,W)}else{V=U+1;e(W,null,T,Z,V)}}}function e(U,X,T,W,V){u.fillStyle=U;u.strokeStyle=X;u.beginPath();u.arc(T,W,V,2*Math.PI,false);u.fill();if(X){u.stroke()}}function b(T,X,U,W,V){u.fillStyle=V;u.fillRect(T,X-W,U,W)}function N(){var T,U;if(!isNaN(+B.axis)){T=0;U=Math.round(J(B.axis));u.lineWidth=1;u.lineJoin="round";u.strokeStyle="#bbb";u.moveTo(T,U);while(T<a){u.lineTo(T+5,U);u.moveTo(T+8,U);T+=8}u.stroke()}}function R(T){S=A(T,"data-type")[0];B=H(T);u=T.getContext("2d");a=T.width;c=T.height;L=d[B.theme]||A(T,"data-colors")||d.basic;w=Q(T.getAttribute("data-sets"));n=A(T,"data-range")||h(w,z());l=false;T.width=T.width;b(0,0,a,-c,B.bgcolor||"white");try{t[S].call()}catch(U){console.error(U.message)}}function P(W,V,U,T){return +W+((+V-+W)*(U/T))}function F(U,T,Y){var W,V,X=[U];for(W=0;W<U.length;W++){for(V=1;V<Y;V++){if(!X[V]){X[V]=[]}X[V][W]=P(U[W],T[W],V,Y)}}return X.concat([T])}function K(U,T,X){var V,W=[];for(V=0;V<U.length;V++){W.push(F(U[V],T[V],X))}return W}function C(aa,X,Z){var W=0,V=0,Y,T,U=K(X,Z,10);if(!X.length){return Chartlets.update(aa,Z)}T=setInterval(function(){Y=[];for(V=0;V<U.length;V++){Y.push(U[V][W])}Chartlets.update(aa,Y);if(++W===Y[0].length){clearInterval(T)}},20)}t={line:function(){var U,Y,X,T,W,V;N();for(U=0;U<w.length;U++){Y=w[U];X=M(U);if(z()){Y=v(w.slice(0,U+1));V=U>0?v(w.slice(0,U)):null}m(Y,X,B.stroke||1.5,null);if(z()||G()){W=B.alpha||(z()?1:0.5);T=f(y(o(X),W));m(Y,X,0,T,V)}if(B.cap){g(Y,B.cap,X,u.lineWidth)}}},bar:function(){var V,U,T,Z,aa,Y,ab,W,X;if(B.orient==="horiz"){O()}N();u.lineWidth=B.stroke||1;u.lineJoin="miter";X=w[0].length;for(V=0;V<w.length;V++){for(U=0;U<X;U++){T=1;Z=l?c:a;ab=((Z/X)/w.length)-((T/w.length)*V)-1;aa=(T/2)+j(U,X+1)+(ab*V)+1;Y=J(w[V][U]);W=Y-J(0)||1;if(z()){ab=(Z/X)-2;aa=j(U,X+1);Y=J(k(w.slice(0,V+1),U))}b(aa,Y,ab,W,M(V))}}},pie:function(){var W,U,aa,Y,V,T,Z,X;W=0;U=a/2;aa=c/2;Y=Math.min(U,aa)-2;V=1.5*Math.PI;T=0;Z=w[0];X=r(Z);u.lineWidth=1.5;for(W=0;W<Z.length;W++){u.fillStyle=M(W);u.beginPath();T=V+(Z[W]/X)*(2*Math.PI);u.arc(U,aa,Y,V,T,false);u.lineTo(U,aa);u.fill();V=T}}};window.Chartlets={render:function(T){var U;if(!T){T=[].slice.call(i.getElementsByClassName("chartlet"))}for(U=0;U<T.length;U++){R(T[U])}},setTheme:function(U,T){d[U]=T},getTheme:function(T){return d[T]},update:function(Y,V,U){var W,T=[],X=document.getElementById(Y);if(U&&U.transition){new C(Y,Q(X.getAttribute("data-sets")),V);return}for(W=0;W<V.length;W++){T.push(V[W].join(" "))}X.setAttribute("data-sets","["+T.join("] [")+"]");Chartlets.render([X])}}}(document));